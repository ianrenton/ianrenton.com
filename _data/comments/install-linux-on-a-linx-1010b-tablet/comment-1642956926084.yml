_id: 42a98c50-7c6d-11ec-a8d1-e9c7a5392a3f
_parent: 'https://ianrenton.com/guides/install-linux-on-a-linx-1010b-tablet/'
name: Damien
email: ''
message: "*Again.. I'm just keeping you in the loop. Will tell you if it actually worked after reboot.*\r\n\r\nThis is what I did to get it to do the grub32 thing. You may want to trim it down a bit and update your \"Installing 32-bit Grub after a Botched Install\" section. Also, note that update-grub is the command, not grub-update.\r\n\r\nI couldn't think of a sane way to put variables through to the chroot, else I'd have made the target drive a variable. Here, I'm using an external USB stick, so it's /dev/sda. Clearly, that'll be /dev/mmcblk${x} for internal SSD/SD\r\n\r\n    sudo -iH\r\n    \r\n    root=/dev/sda2 ; efi=/dev/sda1\r\n    t=/mnt/target\r\n    \r\n    mkdir -p $t\r\n    mount $root $t\r\n    mount $efi $t/boot/efi\r\n    for i in dev dev/pts sys proc run ; do\r\n        mount --bind /$i $t/$i\r\n    done\r\n    chroot $t /bin/bash\r\n    \r\n    # We are are now inside chroot... the target system.\r\n    \r\n    export PS1=\"(chroot) $PS1\" # change the prompt so we know we're in the chroot.\r\n    apt install grub-efi-ia32-bin\r\n    grub-install /dev/sda # CAREFUL YOU PICK THE RIGHT DRIVE\r\n    update-grub # NOT grub-update\r\n    exit # Leave the chroot\r\n    \r\n    # Now we have left the chroot. Time to unmount it all.\r\n    # (note the \"\" to umount target /)\r\n    for i in dev/pts dev sys proc run boot/efi \"\" ; do\r\n        umount $t/$i\r\n    done\r\n    #check we've not missed any umounts\r\n    mount | grep $target\r\n\r\nWill report back after reboot in a minute."
date: '2022-01-23T16:55:26.080Z'
